<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorator="layout">
<head>
    <title>メールマッチング結果</title>
</head>
<body>
<div layout:fragment="content">
    <section class="content-header">
        <h1>メールマッチング結果</h1>
    </section>
    <section class="content matching-result">
        <div class="row matching-result-container" style="position: relative">
            <div style="position: absolute; right: 25px; top: 15px; z-index: 1000;">
                <span><b>元書換:</b></span>
                <select id="motoReplaceSelector" style="margin-left: 10px; margin-right: 15px;" aria-hidden="true">
                    <option value="2" selected="selected">上代数値</option>
                    <option value="1">下代数値</option>
                    <option value="0">数値</option>
                </select>
                <span><b>先書換:</b></span>
                <select id="sakiReplaceSelector" style="margin-left: 10px;" aria-hidden="true">
                    <option value="2" selected="selected">上代数値</option>
                    <option value="1">下代数値</option>
                    <option value="0">数値</option>
                </select>
            </div>
            <form id="matchingConditionSettingsForm" class="form-horizontal" method="POST">
                <div class="col-sm-12">
                    <h4 id="totalSourceMatching">絞り込み元</h4>
                </div>
                <div class="col-sm-12" style="padding-top: 5px;">
                    <input name="group"
                           id="displayNonZeroCheckbox"
                           type="checkbox"
                           checked="checked"
                    /><span> 絞り込みと先マッチしたのみ表示する</span>
                    <div class="main-left">
                        <div class="table-container">
                            <table id="sourceMatch" class="table table-bordered table-hover tablesorter">
                                <thead>
                                <tr>
                                    <th>ワード</th>
                                    <th>マッチ件数</th>
                                    <th>受信日時</th>
                                    <th th:colspan="2">送信者</th>
                                    <th>件名</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr role="row" class="hidden">
                                    <td class="clickable" name="sourceRow" th:data="word"><span></span></td>
                                    <td class="clickable" name="sourceRow" th:data="destinationList"><span></span></td>
                                    <td class="clickable" name="sourceRow" th:data="source.receivedAt"><span></span></td>
                                    <td class="clickable" name="sourceRow" th:colspan="2" th:data="source.from"><span></span></td>
                                    <td class="clickable" name="sourceRow" th:data="source.subject"><span></span></td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="table-name-container">
                            <h4 id="totalDestinationMatching">絞り込み先</h4>
                        </div>
                        <div class="table-container">
                            <table id="destinationMatch" class="table table-bordered table-hover tablesorter">
                                <thead>
                                <tr>
                                    <th>ワード</th>
                                    <th>元数値</th>
                                    <th>先数値</th>
                                    <th>受信日時</th>
                                    <th th:colspan="2">送信者</th>
                                    <th>件名</th>
                                    <th></th>
                                    <th></th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr role="row" class="hidden">
                                    <td class="clickable" name="showDestinationMail" th:data="word"><span></span></td>
                                    <td class="clickable" name="showDestinationMail" th:data="range"><span style="display: inline-table;"></span></td>
                                    <td class="clickable" name="showDestinationMail" th:data="matchRange"><span style="display: inline-table;"></span></td>
                                    <td class="clickable" name="showDestinationMail" th:data="receivedAt"><span></span></td>
                                    <td class="clickable" name="showDestinationMail" th:colspan="2" th:data="from"><span></span></td>
                                    <td class="clickable" name="showDestinationMail" th:data="subject"><span></span></td>
                                    <td class="clickable text-center" name="sendToMoto">
                                        <button type="button" class="btn btn-xs btn-default">元に</button>
                                    </td>
                                    <td class="clickable text-center" name="sendToSaki">
                                        <button type="button" class="btn btn-xs btn-default">先に</button>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="col-sm-12" style="padding-top: 5px;">
                    <span>プレビュー
                        <button style="float: right" id="printBtn" type="button" class="btn btn-default btn-sm" data-toggle="tooltip" title="" data-original-title="Print">
                            <i class="fa fa-print"></i>
                        </button>
                    </span>
                    <div class="main-right">
                        <div id="mailSubject" class="mail-subject"></div>
                        <div id="mailBody" class="mail-part mail-body"></div>
                        <div id="mailAttachment" class="mail-attachment"></div>
                    </div>
                    <div style="display: none" id="printElement">
                    </div>
                </div>
            </form>
        </div>
    </section>
    <div id="sendMailModal" class="modal fade" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document" style="width: 90%;">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">推薦状</h4>
                </div>
                <div class="modal-body">
                    <div class="form-group row">
                        <label for="rdMailSender" class="col-sm-1">送信者:</label>
                        <div class="col-sm-11">
                            <input id="rdMailSender" class="form-control" placeholder="送信者:" th:readonly="true"/>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="rdMailReceiver" class="col-sm-1">受信者:</label>
                        <div class="col-sm-11">
                            <input id="rdMailReceiver" class="form-control" placeholder="受信者:"/>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="rdMailSubject" class="col-sm-1">件名:</label>
                        <div class="col-sm-11">
                            <input id="rdMailSubject" class="form-control" placeholder="件名:"/>
                        </div>
                    </div>
                    <textarea id="rdMailBody"></textarea>
                    <div id="rdMailAttachment" class="rd-mail-part rd-mail-attachment"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">終了</button>
                    <button type="button" id="sendSuggestMail" class="btn btn-primary" data-loading-text="送信中...">送信</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->
</div>
<th:block layout:fragment="scripts">
    <script src="/custom/js/pages/matching/result.js"></script>
</th:block>
</body>
</html>