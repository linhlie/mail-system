<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorator="layout">
<head>
    <title>メールマッチング条件設定</title>
</head>
<body>
<div layout:fragment="content">
    <section class="content-header">
        <h1>メールマッチング条件設定</h1>
    </section>
    <section class="content mail-analysis">
        <div class="row">
            <div class="col-md-10 col-xs-12">
                <div class="box box-default">
                    <div class="box-body">
                        <form id="matchingConditionSettingsForm" class="form-horizontal" method="POST">
                            <div class="form-group"></div>
                            <div class="col-xs-12">
                                <span>比較メール元抽出条件</span>
                                <div class="form-container">
                                    <div class="col-xs-12 full-height remove-nested-padding">
                                        <div class="table-container">
                                            <table id="motoMail" class="table table-bordered">
                                                <thead>
                                                <tr>
                                                    <th class="hidden">Id</th>
                                                    <th class="col-xs-2">グループ</th>
                                                    <th class="col-xs-2">AND/OR</th>
                                                    <th class="col-xs-2">項目</th>
                                                    <th class="col-xs-3">条件</th>
                                                    <th class="col-xs-3">値</th>
                                                    <th class="col-xs-1 text-center">
                                                        <span name="addMotoRow" title="add"
                                                              style="cursor: pointer"
                                                              class="glyphicon glyphicon-plus">
                                                                        </span>
                                                    </th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr class="hidden skip">
                                                    <td class="hidden" th:data="id">
                                                        <span></span>
                                                    </td>
                                                    <td class="text-center" th:data="group">
                                                        <input name="group"
                                                               type="checkbox"
                                                        />
                                                    </td>
                                                    <td class="select-container" th:data="combine">
                                                        <select style="width: 100%;" aria-hidden="true">
                                                            <option th:each="option : ${combineOptions}"
                                                                    th:value="${option.value}"
                                                                    th:utext="${option.text}"/>
                                                        </select>
                                                    </td>
                                                    <td class="select-container" th:data="item">
                                                        <select style="width: 100%;" aria-hidden="true">
                                                            <option th:each="option : ${mailItemOptions}"
                                                                    th:value="${option.value}"
                                                                    th:utext="${option.text}"/>
                                                        </select>
                                                    </td>
                                                    <td class="select-container" th:data="condition">
                                                        <select style="width: 100%;" aria-hidden="true">
                                                            <option th:each="option : ${conditionOptions}"
                                                                    th:value="${option.value}"
                                                                    th:utext="${option.text}"/>
                                                        </select>
                                                    </td>
                                                    <td th:data="value"><input type="text" placeholder=""/></td>
                                                    <td class="text-center">
                                                                        <span name="removeConditionRow" title="删除"
                                                                              style="cursor: pointer"
                                                                              class="glyphicon glyphicon-remove">
                                                                        </span>
                                                    </td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <button id="extractSourceBtn" type="button" class="btn btn-default btn-xs btn-block">比較メール元のみ抽出を行う</button>
                            </div>
                            <div class="col-md-4">
                                <button id="saveSourceBtn" type="button" class="btn btn-default btn-xs btn-block">条件に名前を付けて保存</button>
                            </div>
                            <div class="col-md-4">
                                <button id="getSourceBtn" type="button" class="btn btn-default btn-xs btn-block">保存済条件を読み込み</button>
                            </div>
                            <div class="form-group"></div>
                            <div class="col-xs-12">
                                <span>比較メール先抽出条件</span>
                                <div class="form-container">
                                    <div class="col-xs-12 full-height remove-nested-padding">
                                        <div class="table-container">
                                            <table id="sakiMail" class="table table-bordered">
                                                <thead>
                                                <tr>
                                                    <th class="hidden">Id</th>
                                                    <th class="col-xs-2">グループ</th>
                                                    <th class="col-xs-2">AND/OR</th>
                                                    <th class="col-xs-2">項目</th>
                                                    <th class="col-xs-3">条件</th>
                                                    <th class="col-xs-3">値</th>
                                                    <th class="col-xs-1 text-center">
                                                        <span name="addSakiRow" title="add"
                                                              style="cursor: pointer"
                                                              class="glyphicon glyphicon-plus">
                                                                        </span>
                                                    </th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr class="hidden skip">
                                                    <td class="hidden" th:data="id">
                                                        <span></span>
                                                    </td>
                                                    <td class="text-center" th:data="group">
                                                        <input name="group"
                                                               type="checkbox"
                                                        />
                                                    </td>
                                                    <td class="select-container" th:data="combine">
                                                        <select style="width: 100%;" aria-hidden="true">
                                                            <option th:each="option : ${combineOptions}"
                                                                    th:value="${option.value}"
                                                                    th:utext="${option.text}"/>
                                                        </select>
                                                    </td>
                                                    <td class="select-container" th:data="item">
                                                        <select style="width: 100%;" aria-hidden="true">
                                                            <option th:each="option : ${mailItemOptions}"
                                                                    th:value="${option.value}"
                                                                    th:utext="${option.text}"/>
                                                        </select>
                                                    </td>
                                                    <td class="select-container" th:data="condition">
                                                        <select style="width: 100%;" aria-hidden="true">
                                                            <option th:each="option : ${conditionOptions}"
                                                                    th:value="${option.value}"
                                                                    th:utext="${option.text}"/>
                                                        </select>
                                                    </td>
                                                    <td th:data="value"><input type="text" placeholder=""/></td>
                                                    <td class="text-center">
                                                                        <span name="removeConditionRow" title="删除"
                                                                              style="cursor: pointer"
                                                                              class="glyphicon glyphicon-remove">
                                                                        </span>
                                                    </td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <button id="extractDestinationBtn" type="button" class="btn btn-default btn-xs btn-block">比較メール先のみ抽出を行う</button>
                            </div>
                            <div class="col-md-4">
                                <button id="saveDestinationBtn" type="button" class="btn btn-default btn-xs btn-block">条件に名前を付けて保存</button>
                            </div>
                            <div class="col-md-4">
                                <button id="getDestinationBtn" type="button" class="btn btn-default btn-xs btn-block">保存済条件を読み込み</button>
                            </div>
                            <div class="form-group"></div>
                            <div class="matching-container">
                                <div class="row">
                                    <div class="radio">
                                        <label><input type="radio" name="distinguish" value="false" checked="checked"/>全角/半角を区別しない</label>
                                    </div>
                                    <div class="radio">
                                        <label><input type="radio" name="distinguish" value="true"/>全角/半角を区別する</label>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group"></div>
                            <div class="col-xs-12">
                                <span>マッチング条件</span>
                                <div class="form-container">
                                    <div class="col-xs-12 full-height remove-nested-padding">
                                        <div class="table-container">
                                            <table id="matching" class="table table-bordered">
                                                <thead>
                                                <tr>
                                                    <th class="hidden">Id</th>
                                                    <th class="col-xs-2">グループ</th>
                                                    <th class="col-xs-2">AND/OR</th>
                                                    <th class="col-xs-2">比較元項目</th>
                                                    <th class="col-xs-3">条件</th>
                                                    <th class="col-xs-3">比較先項目または値</th>
                                                    <th class="col-xs-1 text-center">
                                                        <span name="addMatchRow" title="add"
                                                              style="cursor: pointer"
                                                              class="glyphicon glyphicon-plus">
                                                                        </span>
                                                    </th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr class="hidden skip">
                                                    <td class="hidden" th:data="id">
                                                        <span></span>
                                                    </td>
                                                    <td class="text-center" th:data="group">
                                                        <input name="group"
                                                               type="checkbox"
                                                        />
                                                    </td>
                                                    <td class="select-container" th:data="combine">
                                                        <select style="width: 100%;" aria-hidden="true">
                                                            <option th:each="option : ${combineOptions}"
                                                                    th:value="${option.value}"
                                                                    th:utext="${option.text}"/>
                                                        </select>
                                                    </td>
                                                    <td class="select-container" th:data="item">
                                                        <select style="width: 100%;" aria-hidden="true">
                                                            <option th:each="option : ${matchingItemOptions}"
                                                                    th:value="${option.value}"
                                                                    th:utext="${option.text}"/>
                                                        </select>
                                                    </td>
                                                    <td class="select-container" th:data="condition">
                                                        <select style="width: 100%;" aria-hidden="true">
                                                            <option th:each="option : ${conditionOptions}"
                                                                    th:value="${option.value}"
                                                                    th:utext="${option.text}"/>
                                                        </select>
                                                    </td>
                                                    <td th:data="value">
                                                        <input class="black-down-triangle" type="text" name="matchingValue" list="itemlist" placeholder=""/>
                                                        <datalist id="itemlist">
                                                            <option th:each="option : ${matchingItemOptions}"
                                                                    th:data-value="${option.value}"
                                                                    th:value="${option.text}"/>
                                                        </datalist>
                                                    </td>
                                                    <td class="text-center">
                                                                        <span name="removeConditionRow" title="删除"
                                                                              style="cursor: pointer"
                                                                              class="glyphicon glyphicon-remove">
                                                                        </span>
                                                    </td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group"></div>
                            <div class="matching-container">
                                <div class="row">
                                    <div class="radio">
                                        <label><input type="radio" name="spaceEffective" value="false" checked="checked"/>Spaceを区別しない</label>
                                    </div>
                                    <div class="radio">
                                        <label><input type="radio" name="spaceEffective" value="true"/>Spaceを区別する</label>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group"></div>
                            <div class="col-xs-12">
                                <span>マッチングワード</span>
                                <textarea id="matchingWordsArea" style="width: 100%" rows="4"></textarea>
                            </div>
                            <div class="col-md-offset-8 col-sm-offset-7 col-xs-offset-6 col-md-4 col-sm-5 col-xs-6">
                                <button id="submitFormBtn" type="button" class="btn btn-default btn-xs btn-block">マッチング</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <div id="dataModal" class="modal fade" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document" style="width: 40%;">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 id="dataModalTitle" class="modal-title">保存された名前を入力してください</h4>
                </div>
                <div class="modal-body">
                    <div class="form-group row">
                        <div class="col-sm-10 col-sm-offset-1">
                            <input id="dataModalName" class="form-control black-down-triangle black-down-triangle-center" type="text" name="dataModalName" list="keylist" placeholder=""/>
                            <datalist id="keylist">
                            </datalist>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" id="dataModalCancel" class="btn btn-default" data-dismiss="modal">キャンセル</button>
                    <button type="button" id="dataModalOk" class="btn btn-primary">OK</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->
</div>
<th:block layout:fragment="scripts">
    <script src="/custom/js/pages/matching/settings.js"></script>
</th:block>
</body>
</html>